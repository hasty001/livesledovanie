{% extends "layout.html" %}
{% block body %}

<style>
#map { height: 80vh;}
</style>

<link rel="stylesheet" href="https://npmcdn.com/leaflet@1.0.0-rc.2/dist/leaflet.css" />
<script src="https://npmcdn.com/leaflet@1.0.0-rc.2/dist/leaflet.js"></script>



<div id="map"></div>

<script type=text/javascript>


var map = L.map('map').setView([49.15, 19.96], 8);
var markerLayerGroup = L.layerGroup().addTo(map);

L.tileLayer('http://tiles.freemap.sk/T/{z}/{x}/{y}', { maxZoom: 18, attribution: 'Map data &copy; <a href="http://freemap.sk">Freemap.sk</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a> Written by <a href="http://cestasnp.sk">hasty</a>.' }).addTo(map);

do_points();



function do_points(){
        requestURL = "https://sledovanie-cestasnp.rhcloud.com/ajax/pois";
        $.getJSON(requestURL, function(json) {
            for (var i in json) {
                L.marker([json[i].coordinates[1], json[i].coordinates[0]]).addTo(map).bindPopup("<b>" + json[i].name + "</b><br>" + "<b>Kateg√≥ria: </b>" + json[i].category + "<br>" + json[i].text);
            }
        });
      }


</script>

{% endblock %}
